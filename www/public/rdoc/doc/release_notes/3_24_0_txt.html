<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>3.24.0 - Sequel: The Database Toolkit for Ruby</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Prepared+Statement+Plugins">Prepared Statement Plugins</a>
    <li><a href="#label-Other+New+Features">Other New Features</a>
    <li><a href="#label-Other+Improvements">Other Improvements</a>
    <li><a href="#label-Backwards+Compatibility">Backwards Compatibility</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../CHANGELOG.html">CHANGELOG</a>
  
    <li><a href="../../MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../README_rdoc.html">README</a>
  
    <li><a href="../../doc/CHANGELOG_old.html">CHANGELOG.old</a>
  
    <li><a href="../../doc/advanced_associations_rdoc.html">advanced_associations</a>
  
    <li><a href="../../doc/association_basics_rdoc.html">association_basics</a>
  
    <li><a href="../../doc/bin_sequel_rdoc.html">bin_sequel</a>
  
    <li><a href="../../doc/cheat_sheet_rdoc.html">cheat_sheet</a>
  
    <li><a href="../../doc/code_order_rdoc.html">code_order</a>
  
    <li><a href="../../doc/core_extensions_rdoc.html">core_extensions</a>
  
    <li><a href="../../doc/dataset_basics_rdoc.html">dataset_basics</a>
  
    <li><a href="../../doc/dataset_filtering_rdoc.html">dataset_filtering</a>
  
    <li><a href="../../doc/extensions_rdoc.html">extensions</a>
  
    <li><a href="../../doc/fork_safety_rdoc.html">fork_safety</a>
  
    <li><a href="../../doc/mass_assignment_rdoc.html">mass_assignment</a>
  
    <li><a href="../../doc/migration_rdoc.html">migration</a>
  
    <li><a href="../../doc/model_dataset_method_design_rdoc.html">model_dataset_method_design</a>
  
    <li><a href="../../doc/model_hooks_rdoc.html">model_hooks</a>
  
    <li><a href="../../doc/model_plugins_rdoc.html">model_plugins</a>
  
    <li><a href="../../doc/mssql_stored_procedures_rdoc.html">mssql_stored_procedures</a>
  
    <li><a href="../../doc/object_model_rdoc.html">object_model</a>
  
    <li><a href="../../doc/opening_databases_rdoc.html">opening_databases</a>
  
    <li><a href="../../doc/postgresql_rdoc.html">postgresql</a>
  
    <li><a href="../../doc/prepared_statements_rdoc.html">prepared_statements</a>
  
    <li><a href="../../doc/querying_rdoc.html">querying</a>
  
    <li><a href="../../doc/reflection_rdoc.html">reflection</a>
  
    <li><a href="../../doc/release_notes/1_0_txt.html">1.0</a>
  
    <li><a href="../../doc/release_notes/1_1_txt.html">1.1</a>
  
    <li><a href="../../doc/release_notes/1_3_txt.html">1.3</a>
  
    <li><a href="../../doc/release_notes/1_4_0_txt.html">1.4.0</a>
  
    <li><a href="../../doc/release_notes/1_5_0_txt.html">1.5.0</a>
  
    <li><a href="../../doc/release_notes/2_0_0_txt.html">2.0.0</a>
  
    <li><a href="../../doc/release_notes/2_1_0_txt.html">2.1.0</a>
  
    <li><a href="../../doc/release_notes/2_10_0_txt.html">2.10.0</a>
  
    <li><a href="../../doc/release_notes/2_11_0_txt.html">2.11.0</a>
  
    <li><a href="../../doc/release_notes/2_12_0_txt.html">2.12.0</a>
  
    <li><a href="../../doc/release_notes/2_2_0_txt.html">2.2.0</a>
  
    <li><a href="../../doc/release_notes/2_3_0_txt.html">2.3.0</a>
  
    <li><a href="../../doc/release_notes/2_4_0_txt.html">2.4.0</a>
  
    <li><a href="../../doc/release_notes/2_5_0_txt.html">2.5.0</a>
  
    <li><a href="../../doc/release_notes/2_6_0_txt.html">2.6.0</a>
  
    <li><a href="../../doc/release_notes/2_7_0_txt.html">2.7.0</a>
  
    <li><a href="../../doc/release_notes/2_8_0_txt.html">2.8.0</a>
  
    <li><a href="../../doc/release_notes/2_9_0_txt.html">2.9.0</a>
  
    <li><a href="../../doc/release_notes/3_0_0_txt.html">3.0.0</a>
  
    <li><a href="../../doc/release_notes/3_1_0_txt.html">3.1.0</a>
  
    <li><a href="../../doc/release_notes/3_10_0_txt.html">3.10.0</a>
  
    <li><a href="../../doc/release_notes/3_11_0_txt.html">3.11.0</a>
  
    <li><a href="../../doc/release_notes/3_12_0_txt.html">3.12.0</a>
  
    <li><a href="../../doc/release_notes/3_13_0_txt.html">3.13.0</a>
  
    <li><a href="../../doc/release_notes/3_14_0_txt.html">3.14.0</a>
  
    <li><a href="../../doc/release_notes/3_15_0_txt.html">3.15.0</a>
  
    <li><a href="../../doc/release_notes/3_16_0_txt.html">3.16.0</a>
  
    <li><a href="../../doc/release_notes/3_17_0_txt.html">3.17.0</a>
  
    <li><a href="../../doc/release_notes/3_18_0_txt.html">3.18.0</a>
  
    <li><a href="../../doc/release_notes/3_19_0_txt.html">3.19.0</a>
  
    <li><a href="../../doc/release_notes/3_2_0_txt.html">3.2.0</a>
  
    <li><a href="../../doc/release_notes/3_20_0_txt.html">3.20.0</a>
  
    <li><a href="../../doc/release_notes/3_21_0_txt.html">3.21.0</a>
  
    <li><a href="../../doc/release_notes/3_22_0_txt.html">3.22.0</a>
  
    <li><a href="../../doc/release_notes/3_23_0_txt.html">3.23.0</a>
  
    <li><a href="../../doc/release_notes/3_24_0_txt.html">3.24.0</a>
  
    <li><a href="../../doc/release_notes/3_25_0_txt.html">3.25.0</a>
  
    <li><a href="../../doc/release_notes/3_26_0_txt.html">3.26.0</a>
  
    <li><a href="../../doc/release_notes/3_27_0_txt.html">3.27.0</a>
  
    <li><a href="../../doc/release_notes/3_28_0_txt.html">3.28.0</a>
  
    <li><a href="../../doc/release_notes/3_29_0_txt.html">3.29.0</a>
  
    <li><a href="../../doc/release_notes/3_3_0_txt.html">3.3.0</a>
  
    <li><a href="../../doc/release_notes/3_30_0_txt.html">3.30.0</a>
  
    <li><a href="../../doc/release_notes/3_31_0_txt.html">3.31.0</a>
  
    <li><a href="../../doc/release_notes/3_32_0_txt.html">3.32.0</a>
  
    <li><a href="../../doc/release_notes/3_33_0_txt.html">3.33.0</a>
  
    <li><a href="../../doc/release_notes/3_34_0_txt.html">3.34.0</a>
  
    <li><a href="../../doc/release_notes/3_35_0_txt.html">3.35.0</a>
  
    <li><a href="../../doc/release_notes/3_36_0_txt.html">3.36.0</a>
  
    <li><a href="../../doc/release_notes/3_37_0_txt.html">3.37.0</a>
  
    <li><a href="../../doc/release_notes/3_38_0_txt.html">3.38.0</a>
  
    <li><a href="../../doc/release_notes/3_39_0_txt.html">3.39.0</a>
  
    <li><a href="../../doc/release_notes/3_4_0_txt.html">3.4.0</a>
  
    <li><a href="../../doc/release_notes/3_40_0_txt.html">3.40.0</a>
  
    <li><a href="../../doc/release_notes/3_41_0_txt.html">3.41.0</a>
  
    <li><a href="../../doc/release_notes/3_42_0_txt.html">3.42.0</a>
  
    <li><a href="../../doc/release_notes/3_43_0_txt.html">3.43.0</a>
  
    <li><a href="../../doc/release_notes/3_44_0_txt.html">3.44.0</a>
  
    <li><a href="../../doc/release_notes/3_45_0_txt.html">3.45.0</a>
  
    <li><a href="../../doc/release_notes/3_46_0_txt.html">3.46.0</a>
  
    <li><a href="../../doc/release_notes/3_47_0_txt.html">3.47.0</a>
  
    <li><a href="../../doc/release_notes/3_48_0_txt.html">3.48.0</a>
  
    <li><a href="../../doc/release_notes/3_5_0_txt.html">3.5.0</a>
  
    <li><a href="../../doc/release_notes/3_6_0_txt.html">3.6.0</a>
  
    <li><a href="../../doc/release_notes/3_7_0_txt.html">3.7.0</a>
  
    <li><a href="../../doc/release_notes/3_8_0_txt.html">3.8.0</a>
  
    <li><a href="../../doc/release_notes/3_9_0_txt.html">3.9.0</a>
  
    <li><a href="../../doc/release_notes/4_0_0_txt.html">4.0.0</a>
  
    <li><a href="../../doc/release_notes/4_1_0_txt.html">4.1.0</a>
  
    <li><a href="../../doc/release_notes/4_10_0_txt.html">4.10.0</a>
  
    <li><a href="../../doc/release_notes/4_11_0_txt.html">4.11.0</a>
  
    <li><a href="../../doc/release_notes/4_12_0_txt.html">4.12.0</a>
  
    <li><a href="../../doc/release_notes/4_13_0_txt.html">4.13.0</a>
  
    <li><a href="../../doc/release_notes/4_14_0_txt.html">4.14.0</a>
  
    <li><a href="../../doc/release_notes/4_15_0_txt.html">4.15.0</a>
  
    <li><a href="../../doc/release_notes/4_16_0_txt.html">4.16.0</a>
  
    <li><a href="../../doc/release_notes/4_17_0_txt.html">4.17.0</a>
  
    <li><a href="../../doc/release_notes/4_18_0_txt.html">4.18.0</a>
  
    <li><a href="../../doc/release_notes/4_19_0_txt.html">4.19.0</a>
  
    <li><a href="../../doc/release_notes/4_2_0_txt.html">4.2.0</a>
  
    <li><a href="../../doc/release_notes/4_20_0_txt.html">4.20.0</a>
  
    <li><a href="../../doc/release_notes/4_21_0_txt.html">4.21.0</a>
  
    <li><a href="../../doc/release_notes/4_22_0_txt.html">4.22.0</a>
  
    <li><a href="../../doc/release_notes/4_23_0_txt.html">4.23.0</a>
  
    <li><a href="../../doc/release_notes/4_24_0_txt.html">4.24.0</a>
  
    <li><a href="../../doc/release_notes/4_25_0_txt.html">4.25.0</a>
  
    <li><a href="../../doc/release_notes/4_26_0_txt.html">4.26.0</a>
  
    <li><a href="../../doc/release_notes/4_27_0_txt.html">4.27.0</a>
  
    <li><a href="../../doc/release_notes/4_28_0_txt.html">4.28.0</a>
  
    <li><a href="../../doc/release_notes/4_29_0_txt.html">4.29.0</a>
  
    <li><a href="../../doc/release_notes/4_3_0_txt.html">4.3.0</a>
  
    <li><a href="../../doc/release_notes/4_30_0_txt.html">4.30.0</a>
  
    <li><a href="../../doc/release_notes/4_31_0_txt.html">4.31.0</a>
  
    <li><a href="../../doc/release_notes/4_32_0_txt.html">4.32.0</a>
  
    <li><a href="../../doc/release_notes/4_33_0_txt.html">4.33.0</a>
  
    <li><a href="../../doc/release_notes/4_34_0_txt.html">4.34.0</a>
  
    <li><a href="../../doc/release_notes/4_35_0_txt.html">4.35.0</a>
  
    <li><a href="../../doc/release_notes/4_36_0_txt.html">4.36.0</a>
  
    <li><a href="../../doc/release_notes/4_37_0_txt.html">4.37.0</a>
  
    <li><a href="../../doc/release_notes/4_38_0_txt.html">4.38.0</a>
  
    <li><a href="../../doc/release_notes/4_39_0_txt.html">4.39.0</a>
  
    <li><a href="../../doc/release_notes/4_4_0_txt.html">4.4.0</a>
  
    <li><a href="../../doc/release_notes/4_40_0_txt.html">4.40.0</a>
  
    <li><a href="../../doc/release_notes/4_41_0_txt.html">4.41.0</a>
  
    <li><a href="../../doc/release_notes/4_42_0_txt.html">4.42.0</a>
  
    <li><a href="../../doc/release_notes/4_43_0_txt.html">4.43.0</a>
  
    <li><a href="../../doc/release_notes/4_44_0_txt.html">4.44.0</a>
  
    <li><a href="../../doc/release_notes/4_45_0_txt.html">4.45.0</a>
  
    <li><a href="../../doc/release_notes/4_46_0_txt.html">4.46.0</a>
  
    <li><a href="../../doc/release_notes/4_47_0_txt.html">4.47.0</a>
  
    <li><a href="../../doc/release_notes/4_48_0_txt.html">4.48.0</a>
  
    <li><a href="../../doc/release_notes/4_49_0_txt.html">4.49.0</a>
  
    <li><a href="../../doc/release_notes/4_5_0_txt.html">4.5.0</a>
  
    <li><a href="../../doc/release_notes/4_6_0_txt.html">4.6.0</a>
  
    <li><a href="../../doc/release_notes/4_7_0_txt.html">4.7.0</a>
  
    <li><a href="../../doc/release_notes/4_8_0_txt.html">4.8.0</a>
  
    <li><a href="../../doc/release_notes/4_9_0_txt.html">4.9.0</a>
  
    <li><a href="../../doc/release_notes/5_0_0_txt.html">5.0.0</a>
  
    <li><a href="../../doc/release_notes/5_1_0_txt.html">5.1.0</a>
  
    <li><a href="../../doc/release_notes/5_10_0_txt.html">5.10.0</a>
  
    <li><a href="../../doc/release_notes/5_11_0_txt.html">5.11.0</a>
  
    <li><a href="../../doc/release_notes/5_12_0_txt.html">5.12.0</a>
  
    <li><a href="../../doc/release_notes/5_13_0_txt.html">5.13.0</a>
  
    <li><a href="../../doc/release_notes/5_14_0_txt.html">5.14.0</a>
  
    <li><a href="../../doc/release_notes/5_15_0_txt.html">5.15.0</a>
  
    <li><a href="../../doc/release_notes/5_16_0_txt.html">5.16.0</a>
  
    <li><a href="../../doc/release_notes/5_17_0_txt.html">5.17.0</a>
  
    <li><a href="../../doc/release_notes/5_18_0_txt.html">5.18.0</a>
  
    <li><a href="../../doc/release_notes/5_19_0_txt.html">5.19.0</a>
  
    <li><a href="../../doc/release_notes/5_2_0_txt.html">5.2.0</a>
  
    <li><a href="../../doc/release_notes/5_20_0_txt.html">5.20.0</a>
  
    <li><a href="../../doc/release_notes/5_21_0_txt.html">5.21.0</a>
  
    <li><a href="../../doc/release_notes/5_22_0_txt.html">5.22.0</a>
  
    <li><a href="../../doc/release_notes/5_23_0_txt.html">5.23.0</a>
  
    <li><a href="../../doc/release_notes/5_24_0_txt.html">5.24.0</a>
  
    <li><a href="../../doc/release_notes/5_25_0_txt.html">5.25.0</a>
  
    <li><a href="../../doc/release_notes/5_26_0_txt.html">5.26.0</a>
  
    <li><a href="../../doc/release_notes/5_27_0_txt.html">5.27.0</a>
  
    <li><a href="../../doc/release_notes/5_28_0_txt.html">5.28.0</a>
  
    <li><a href="../../doc/release_notes/5_29_0_txt.html">5.29.0</a>
  
    <li><a href="../../doc/release_notes/5_3_0_txt.html">5.3.0</a>
  
    <li><a href="../../doc/release_notes/5_30_0_txt.html">5.30.0</a>
  
    <li><a href="../../doc/release_notes/5_31_0_txt.html">5.31.0</a>
  
    <li><a href="../../doc/release_notes/5_32_0_txt.html">5.32.0</a>
  
    <li><a href="../../doc/release_notes/5_33_0_txt.html">5.33.0</a>
  
    <li><a href="../../doc/release_notes/5_34_0_txt.html">5.34.0</a>
  
    <li><a href="../../doc/release_notes/5_35_0_txt.html">5.35.0</a>
  
    <li><a href="../../doc/release_notes/5_36_0_txt.html">5.36.0</a>
  
    <li><a href="../../doc/release_notes/5_37_0_txt.html">5.37.0</a>
  
    <li><a href="../../doc/release_notes/5_38_0_txt.html">5.38.0</a>
  
    <li><a href="../../doc/release_notes/5_39_0_txt.html">5.39.0</a>
  
    <li><a href="../../doc/release_notes/5_4_0_txt.html">5.4.0</a>
  
    <li><a href="../../doc/release_notes/5_40_0_txt.html">5.40.0</a>
  
    <li><a href="../../doc/release_notes/5_41_0_txt.html">5.41.0</a>
  
    <li><a href="../../doc/release_notes/5_42_0_txt.html">5.42.0</a>
  
    <li><a href="../../doc/release_notes/5_43_0_txt.html">5.43.0</a>
  
    <li><a href="../../doc/release_notes/5_44_0_txt.html">5.44.0</a>
  
    <li><a href="../../doc/release_notes/5_45_0_txt.html">5.45.0</a>
  
    <li><a href="../../doc/release_notes/5_46_0_txt.html">5.46.0</a>
  
    <li><a href="../../doc/release_notes/5_47_0_txt.html">5.47.0</a>
  
    <li><a href="../../doc/release_notes/5_48_0_txt.html">5.48.0</a>
  
    <li><a href="../../doc/release_notes/5_49_0_txt.html">5.49.0</a>
  
    <li><a href="../../doc/release_notes/5_5_0_txt.html">5.5.0</a>
  
    <li><a href="../../doc/release_notes/5_50_0_txt.html">5.50.0</a>
  
    <li><a href="../../doc/release_notes/5_51_0_txt.html">5.51.0</a>
  
    <li><a href="../../doc/release_notes/5_52_0_txt.html">5.52.0</a>
  
    <li><a href="../../doc/release_notes/5_53_0_txt.html">5.53.0</a>
  
    <li><a href="../../doc/release_notes/5_54_0_txt.html">5.54.0</a>
  
    <li><a href="../../doc/release_notes/5_55_0_txt.html">5.55.0</a>
  
    <li><a href="../../doc/release_notes/5_6_0_txt.html">5.6.0</a>
  
    <li><a href="../../doc/release_notes/5_7_0_txt.html">5.7.0</a>
  
    <li><a href="../../doc/release_notes/5_8_0_txt.html">5.8.0</a>
  
    <li><a href="../../doc/release_notes/5_9_0_txt.html">5.9.0</a>
  
    <li><a href="../../doc/schema_modification_rdoc.html">schema_modification</a>
  
    <li><a href="../../doc/security_rdoc.html">security</a>
  
    <li><a href="../../doc/sharding_rdoc.html">sharding</a>
  
    <li><a href="../../doc/sql_rdoc.html">sql</a>
  
    <li><a href="../../doc/testing_rdoc.html">testing</a>
  
    <li><a href="../../doc/thread_safety_rdoc.html">thread_safety</a>
  
    <li><a href="../../doc/transactions_rdoc.html">transactions</a>
  
    <li><a href="../../doc/validations_rdoc.html">validations</a>
  
    <li><a href="../../doc/virtual_rows_rdoc.html">virtual_rows</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page doc/release_notes/3.24.0.txt">

<h1 id="label-Prepared+Statement+Plugins">Prepared Statement Plugins<span><a href="#label-Prepared+Statement+Plugins">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>The <a href="../prepared_statements_rdoc.html">prepared_statements</a> plugin makes <a href="../../Sequel/Model.html"><code>Sequel::Model</code></a> classes use prepared statements for creating, updating, and destroying model instances, as well as looking up model objects by primary key. With this plugin, all of the following will use prepared statements:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:prepared_statements</span>
<span class="ruby-constant">Artist</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span><span class="ruby-operator">=&gt;</span><span class="ruby-string">&#39;Foo&#39;</span>)
<span class="ruby-identifier">a</span> = <span class="ruby-constant">Artist</span>[<span class="ruby-value">1</span>]
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">update</span>(<span class="ruby-value">:name</span><span class="ruby-operator">=&gt;</span><span class="ruby-string">&#39;Bar&#39;</span>)
<span class="ruby-identifier">a</span>.<span class="ruby-identifier">destroy</span>
</pre>
</li><li>
<p>The prepared_statements_safe plugin reduces the number of prepared statements that can be created by doing two things. First, it makes the INSERT statements used when creating instances to use as many columns as possible, setting specific values for all columns with parseable default values.  Second, it changes save_changes to just use save, saving all columns instead of just the changed ones.</p>

<p>The reason for this plugin is that Sequel&#39;s default behavior of using only the values specifically set when creating instances and having update only set changed columns by default can lead to a large number of prepared statements being created.</p>

<p>For prepared statements to be used, each set of columns in the insert and update statements needs to have its own prepared statement.  If you have a table with 1 primary key column and 4 other columns, you can have up to 2^4 = 16 prepared statements created, one for each subset of the 4 columns.  If you have 1 primary key column and 20 other columns, there are over a million subsets, and you could hit your database limit for prepared statements (a denial of service attack).</p>

<p>Using the prepared_statements_safe plugin mitigates this issue by reducing the number of columns that may or may not be present in the query, in many cases making sure that each model will only have a single INSERT and a single UPDATE prepared statement.</p>
</li><li>
<p>The prepared_statements_associations plugin allows normal association method calls to use prepared statements if possible. For example:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:prepared_statements_associations</span>
<span class="ruby-constant">Artist</span>.<span class="ruby-identifier">many_to_one</span> <span class="ruby-value">:albums</span>
<span class="ruby-constant">Artist</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">albums</span>
</pre>

<p>Will use a prepared statement to return the albums for that artist. This plugin works for all supported association types.  There are some associations (filtered and custom associations) that <a href="../../Sequel.html"><code>Sequel</code></a> cannot currently use a prepared statement reliably, for those <a href="../../Sequel.html"><code>Sequel</code></a> will use a regular query.</p>
</li><li>
<p>The prepared_statements_with_pk plugin allows the new Dataset#with_pk method (explained below) to use prepared statements. For example:</p>

<pre>Artist.plugin :prepared_statements_with_pk
Artist.filter(...).with_pk(1)</pre>

<p>Will use a prepared statement for this query.  The most benefit from prepared statements come from queries that are expensive to parse and plan but quick to execute, so using this plugin with a complex filter can in certain cases yield significant performance improvements.</p>

<p>However, this plugin should be considered unsafe as it is possible that it will create an unbounded number of prepared statements. It extracts parameters from the dataset using Dataset#unbind (explained below), so if your code has conditions that vary per query but that Dataset#unbind does not handle, an unbounded number of prepared statements can be created.  For example:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-value">:b</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">with_pk</span>[<span class="ruby-value">1</span>]
<span class="ruby-constant">Artist</span>.<span class="ruby-identifier">exclude</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:b</span>].<span class="ruby-identifier">to_i</span>}.<span class="ruby-identifier">with_pk</span>[<span class="ruby-value">1</span>]
</pre>

<p>are safe, but:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span>[<span class="ruby-value">1</span>, <span class="ruby-identifier">params</span>[<span class="ruby-value">:b</span>].<span class="ruby-identifier">to_i</span>]).<span class="ruby-identifier">with_pk</span>[<span class="ruby-value">1</span>]
<span class="ruby-constant">Artist</span>.<span class="ruby-identifier">exclude</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:b</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>}.<span class="ruby-identifier">with_pk</span>[<span class="ruby-value">1</span>]
</pre>

<p>are not.  For queries that are not safe, Dataset#with_pk should not be used with this plugin, you should switch to looking up by primary key manually (for a regular query):</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span>[<span class="ruby-value">1</span>, <span class="ruby-identifier">params</span>[<span class="ruby-value">:b</span>].<span class="ruby-identifier">to_i</span>])[<span class="ruby-value">:id</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">1</span>]
</pre>

<p>or using the prepared statement API to create a custom prepared statement:</p>

<pre class="ruby"><span class="ruby-comment"># PS = {}</span>
<span class="ruby-constant">PS</span>[<span class="ruby-value">:name</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span>[<span class="ruby-value">1</span>, <span class="ruby-value">:$b</span>], <span class="ruby-value">:id</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">:$id</span>).
       <span class="ruby-identifier">prepare</span>(<span class="ruby-value">:select</span>, <span class="ruby-value">:name</span>)
<span class="ruby-constant">PS</span>[<span class="ruby-value">:name</span>].<span class="ruby-identifier">call</span>(<span class="ruby-value">:b</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-value">:b</span>].<span class="ruby-identifier">to_i</span>, <span class="ruby-value">:id</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">1</span>)
</pre>
</li></ul>

<h1 id="label-Other+New+Features">Other New Features<span><a href="#label-Other+New+Features">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>Filtering by associations got a lot more powerful.  <a href="../../Sequel.html"><code>Sequel</code></a> 3.23.0 introduced filtering by associations:</p>

<pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:artist</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">artist</span>)
</pre>

<p>This capability is much expanded in 3.24.0, allowing you to exclude by associations:</p>

<pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">exclude</span>(<span class="ruby-value">:artist</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">artist</span>)
</pre>

<p>This will match all albums not by that artist.</p>

<p>You can also filter or exclude by multiple associated objects:</p>

<pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:artist</span><span class="ruby-operator">=&gt;</span>[<span class="ruby-identifier">artist1</span>, <span class="ruby-identifier">artist2</span>])
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">exclude</span>(<span class="ruby-value">:artist</span><span class="ruby-operator">=&gt;</span>[<span class="ruby-identifier">artist1</span>, <span class="ruby-identifier">artist2</span>])
</pre>

<p>The filtered dataset will match all albums by either of those two artists, and the excluded dataset will match all albums not by either of those two artists.</p>

<p>You can also filter or exclude by using a model dataset:</p>

<pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:artist</span><span class="ruby-operator">=&gt;</span><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:name</span>.<span class="ruby-identifier">like</span>(<span class="ruby-string">&#39;A%&#39;</span>))).<span class="ruby-identifier">all</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">exclude</span>(<span class="ruby-value">:artist</span><span class="ruby-operator">=&gt;</span><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:name</span>.<span class="ruby-identifier">like</span>(<span class="ruby-string">&#39;A%&#39;</span>))).<span class="ruby-identifier">all</span>
</pre>

<p>Here the filtered dataset will match all albums where the associated artist has a name that begins with A, and the excluded dataset will match all albums where the associated artist does not have a name that begins with A.</p>

<p>All of these types of filtering and excluding work with all of association types that ship with <a href="../../Sequel.html"><code>Sequel</code></a>, even the many_through_many plugin.</p>
</li><li>
<p><a href="../../Sequel.html"><code>Sequel</code></a> now supports around hooks, which wrap the related before hook, behavior, and after hook.  Like other <a href="../../Sequel.html"><code>Sequel</code></a> hooks, these are implemented as instance methods.  For example, if you wanted to log DatabaseErrors raised during save:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Artist</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Model</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">around_save</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-comment"># log the error</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>All around hooks should call super, not yield.  If an around hook doesn&#39;t call super or yield, it is treated as a hook failure, similar to before hooks returning false.</p>

<p>For around_validation, the return value of super should be whether the object is valid.  For other around hooks, the return value of super is currently true, but it&#39;s possible that will change in the future.</p>
</li><li>
<p>Dataset#with_pk has been added to model datasets that allows you to find the object with the matching primary key:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-value">:name</span>.<span class="ruby-identifier">like</span>(<span class="ruby-string">&#39;A%&#39;</span>)).<span class="ruby-identifier">with_pk</span>(<span class="ruby-value">1</span>)
</pre>

<p>This should make easier the common case where you want to find a particular object that is associated to another object:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">albums_dataset</span>.<span class="ruby-identifier">with_pk</span>(<span class="ruby-value">2</span>)
</pre>

<p>Before, there was no way to do that without manually specifying the primary key:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">albums_dataset</span>[<span class="ruby-value">:id</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">2</span>]
</pre>

<p>To use a composite primary key with with_pk, you have to provide an array:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">albums_dataset</span>.<span class="ruby-identifier">with_pk</span>([<span class="ruby-value">1</span>, <span class="ruby-value">2</span>])
</pre>
</li><li>
<p>Dataset#[] for model datasets will now call with_pk if given a single Integer argument.  This makes the above case even easier:</p>

<pre class="ruby"><span class="ruby-constant">Artist</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">albums_dataset</span>[<span class="ruby-value">2</span>]
</pre>

<p>Note that for backwards compatibility, this only works for single integer primary keys.  If you have a composite primary key or a string/varchar primary key, you have to use with_pk.</p>
</li><li>
<p>Dataset#unbind has been added, which allows you to take a dataset that uses static bound values and convert them to placeholders. Currently, the only cases handled are SQL::ComplexExpression objects that use a =, !=, &lt;, &gt;, &lt;=, or &gt;= operator where the first argument is a Symbol, SQL::Indentifier, or SQL::QualifiedIdentifier, and the second argument is a Numeric, String, Date, or Time.  Dataset#unbind returns a two element array, where the first element is a modified copy of the receiver, and the second element is a bound variable hash:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span>, <span class="ruby-identifier">bv</span> = <span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">1</span>).<span class="ruby-identifier">unbind</span>
<span class="ruby-identifier">ds</span> <span class="ruby-comment"># DB[:table].filter(:a=&gt;:$a)</span>
<span class="ruby-identifier">bv</span> <span class="ruby-comment"># {:a=&gt;1}</span>
</pre>

<p>The purpose of doing this is that you can then use prepare or call on the returned dataset with the returned bound variables:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span>.<span class="ruby-identifier">call</span>(<span class="ruby-value">:select</span>, <span class="ruby-identifier">bv</span>)
<span class="ruby-comment"># SELECT * FROM table WHERE (a = ?); [1]</span>

<span class="ruby-identifier">ps</span> = <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">prepare</span>(<span class="ruby-value">:select</span>, <span class="ruby-value">:ps_name</span>)
<span class="ruby-comment"># PREPARE ps_name AS SELECT * FROM table WHERE (a = ?)</span>
<span class="ruby-identifier">ps</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">bv</span>)
<span class="ruby-comment"># EXECUTE ps_name(1)</span>
</pre>

<p>Basically, Dataset#unbind takes a specific statement and attempts to turn it into a generic statement, along with the placeholder values it extracted.</p>

<p>Unfortunately, Dataset#unbind cannot handle all cases.  For example:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>}.<span class="ruby-identifier">unbind</span>
</pre>

<p>will not unbind any values.  Also, if you have a query with multiple different values for a variable, it will raise an UnbindDuplicate exception:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">1</span>).<span class="ruby-identifier">or</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">2</span>).<span class="ruby-identifier">unbind</span>
</pre>
</li><li>
<p>A defaults_setter plugin has been added that makes it easy to automatically set default values when creating new objects.  This plugin makes <a href="../../Sequel/Model.html"><code>Sequel::Model</code></a> behave more like ActiveRecord in that new model instances (before saving) will have default values parsed from the database.  Unlike ActiveRecord, only values with non-NULL defaults are set.  Also, <a href="../../Sequel.html"><code>Sequel</code></a> allows you to easily modify the default values used:</p>

<pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:default_values</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">values</span> <span class="ruby-comment"># {:copies_sold =&gt; 0}</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">default_values</span>[<span class="ruby-value">:copies_sold</span>] = <span class="ruby-value">42</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">values</span> <span class="ruby-comment"># {:copies_sold =&gt; 42}</span>
</pre>

<p>Before, this was commonly done in an after_initialize hook, but that&#39;s slower as it is also called for model instances loaded from the database.</p>
</li><li>
<p>A Database#views method has been added that returns an array of symbols representing view names in the database.  This works just like Database#tables except it returns views.</p>
</li><li>
<p>A <a href="../../Sequel/ASTTransformer.html"><code>Sequel::ASTTransformer</code></a> class was added that makes it easy to write custom transformers of Sequel&#39;s internal abstract syntax trees.  Dataset#qualify now uses a subclass of ASTTransformer to do its transformations, as does the new Dataset#unbind.</p>
</li></ul>

<h1 id="label-Other+Improvements">Other Improvements<span><a href="#label-Other+Improvements">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>Database#create_table? now uses a single query with IF NOT EXISTS if the database supports such syntax.  Previously, it issued a SELECT query to determine table existence.  <a href="../../Sequel.html"><code>Sequel</code></a> currently supports this syntax on MySQL, H2, and SQLite 3.3.0+.</p>

<p>The Database#supports_create_table_if_not_exists? method was added to allow users to determine whether this syntax is supported.</p>
</li><li>
<p>Multiple column IN/NOT IN emulation now works correctly with model datasets (or other datasets that use a row_proc).</p>
</li><li>
<p>You can now correctly invert SQL::Constant instances:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">NULL</span> <span class="ruby-comment"># NULL</span>
<span class="ruby-operator">~</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">NULL</span> <span class="ruby-comment"># NOT NULL</span>
<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">TRUE</span> <span class="ruby-comment"># TRUE</span>
<span class="ruby-operator">~</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">TRUE</span> <span class="ruby-comment"># FALSE</span>
</pre>
</li><li>
<p>A bug in the association_pks plugin has been fixed in the case where the associated table had a different primary key column name than the current table.</p>
</li><li>
<p>The emulated prepared statement support now supports nil and false as bound values.</p>
</li><li>
<p>The to_dot extension was refactored for greater readability.  The only change was a small fix in the display for SQL::Subscript instances.</p>
</li><li>
<p>The Dataset#supports_insert_select? method is now available to let you know if the dataset supports insert_select.  You should use this method instead of respond_to? for checking for insert_select support.</p>
</li><li>
<p>Prepared statements/bound variable can now use a new :insert_select type for preparing a statement that will insert a row and return the row inserted, if the dataset supports insert_select.</p>
</li><li>
<p>The Model#initialize_set private method now exists for easier plugin writing.  It is only called for new model objects, with the hash given to initialize.  By default, it just calls set.</p>
</li><li>
<p>A small bug when creating anonymous subclasses of <a href="../../Sequel/Model.html"><code>Sequel::Model</code></a> on ruby 1.9 has been fixed.</p>
</li><li>
<p>If Thread#kill is used inside a transaction on ruby 1.8 or rubinius, the transaction is rolled back.  This situation is not handled correctly on JRuby or ruby 1.9, and I&#39;m not sure it&#39;s possible to handle correctly on those implementations.</p>
</li><li>
<p>The postgres adapter now supports the Sequel::Postgres::PG_NAMED_TYPES hash for associating conversion procs for custom types that don&#39;t necessarily have the same type oid on different databases.  This hash uses symbol keys and proc values:</p>

<pre>Sequel::Postgres::PG_NAMED_TYPES[:interval] = proc{|v| ...}</pre>

<p>The conversion procs now use a separate hash per Database object instead of a hash shared across all Database objects.  You can now modify the types for a particular Database object, but you have to use the type oid:</p>

<pre>DB.conversion_procs[42] = proc{|v| ...}</pre>
</li><li>
<p>On SQLite and MSSQL, literalization of true and false values given directly to Dataset#filter has been fixed.  So the following now works correctly on those databases:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>(<span class="ruby-keyword">true</span>)
<span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>(<span class="ruby-keyword">false</span>)
</pre>

<p>Unfortunately, because SQLite and MSSQL don&#39;t have a real boolean type, these will not work:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">&amp;</span> <span class="ruby-keyword">true</span>}
<span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">&amp;</span> <span class="ruby-keyword">false</span>}
</pre>

<p>You currently have to work around the issue by doing:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">&amp;</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">TRUE</span>}
<span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">filter</span>{<span class="ruby-identifier">a</span> <span class="ruby-operator">&amp;</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">FALSE</span>}
</pre>

<p>It is possible that a future version of <a href="../../Sequel.html"><code>Sequel</code></a> will remove the need for this workaround, but that requires having a separate literalization method specific to filters.</p>
</li><li>
<p>The MySQL bit type is no longer treated as a boolean.  On MySQL, the bit type is a bitfield, which is very different than the MSSQL bit type, which is the closest thing to a boolean on MSSQL.</p>
</li><li>
<p>The bool database type is now recognized as a boolean.  Some SQLite databases use bool, such as the ones used in Firefox.</p>
</li><li>
<p>SQL_AUTO_IS_NULL=0 is now set by default when connecting to MySQL using the swift or jdbc adapters.  Previously, it was only set by default when using the mysql or mysql2 adapters.</p>
</li><li>
<p>Dataset#limit now works correctly on Access, using the TOP syntax.</p>
</li><li>
<p>Dataset#limit now works correctly on DB2, using the FETCH FIRST syntax.</p>
</li><li>
<p>The jdbc mssql subadapter was split into separate subadapters for sqlserver (using Microsoft&#39;s driver) and jtds (using the open source JTDS driver).</p>
</li><li>
<p>The jdbc jtds subadapter now supports converting Java CLOB objects to ruby strings.</p>
</li><li>
<p>Tables from the INFORMATION_SCHEMA are now ignored when parsing schema on JDBC.</p>
</li><li>
<p>The informix adapter has been split into shared/specific parts, and a jdbc informix subadapter has been added.</p>
</li><li>
<p>Dataset#insert_select now works correctly on MSSQL when the core extensions are disabled.</p>
</li><li>
<p>The sqlite adapter now logs when preparing a statement.</p>
</li><li>
<p>You no longer need to be a PostgreSQL superuser to run the postgres adapter specs.</p>
</li><li>
<p>The connection pool specs are now about 10 times faster and not subject to race conditions due to using Queues instead of sleeping.</p>
</li></ul>

<h1 id="label-Backwards+Compatibility">Backwards Compatibility<span><a href="#label-Backwards+Compatibility">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>Model#save no longer calls Model#valid?.  It now calls the Model#_valid? private method that Model#valid? also calls.  To mark a model instance invalid, you should override the Model#validate method and add validation errors to the object.</p>
</li><li>
<p>The BeforeHookFailure exception class has been renamed to HookFailure since hook failures can now be raised by around hooks that don&#39;t call super.  BeforeHookFailure is now an alias to HookFailure, so no code should break, but you should update your code to reflect the new name.</p>
</li><li>
<p>Any custom argument mappers used for prepared statements now need to implement the prepared_arg? private instance method and have it return true.</p>
</li><li>
<p>If your databases uses bit as a boolean type and isn&#39;t MSSQL, it&#39;s possible that those columns will no longer be treated as booleans. Please report such an issue on the bugtracker.</p>
</li><li>
<p>It is possible that the filtering and excluding by association datasets will break backwards compatibility in some apps.  This can only occur if you are using a symbol with the same name as an association with a model dataset whose model is the same as the associated class.  As associations almost never have the same names as columns, this would require either aliasing or joining to another table.  If for some reason this does break your app, you can work around it by changing the symbol to an SQL::Identifier or a literal string.</p>
</li><li>
<p>The Sequel::Postgres.use_iso_date_format= method now only affects future Database objects.</p>
</li><li>
<p>On MySQL, Database#tables no longer returns view names, it only returns table names.  You have to use Database#views to get view names now.</p>
</li></ul>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

