<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Sequel::CoreRefinements - Sequel: The Database Toolkit for Ruby</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-26">#&amp;</a>
    
    <li ><a href="#method-i-2A">#*</a>
    
    <li ><a href="#method-i-case">#case</a>
    
    <li ><a href="#method-i-hstore">#hstore</a>
    
    <li ><a href="#method-i-identifier">#identifier</a>
    
    <li ><a href="#method-i-lit">#lit</a>
    
    <li ><a href="#method-i-pg_array">#pg_array</a>
    
    <li ><a href="#method-i-pg_json">#pg_json</a>
    
    <li ><a href="#method-i-pg_jsonb">#pg_jsonb</a>
    
    <li ><a href="#method-i-pg_range">#pg_range</a>
    
    <li ><a href="#method-i-pg_row">#pg_row</a>
    
    <li ><a href="#method-i-sql_expr">#sql_expr</a>
    
    <li ><a href="#method-i-sql_function">#sql_function</a>
    
    <li ><a href="#method-i-sql_negate">#sql_negate</a>
    
    <li ><a href="#method-i-sql_or">#sql_or</a>
    
    <li ><a href="#method-i-sql_string_join">#sql_string_join</a>
    
    <li ><a href="#method-i-sql_value_list">#sql_value_list</a>
    
    <li ><a href="#method-i-to_sequel_blob">#to_sequel_blob</a>
    
    <li ><a href="#method-i-7C">#|</a>
    
    <li ><a href="#method-i-~">#~</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Sequel::CoreRefinements">
  <h1 id="module-Sequel::CoreRefinements" class="module">
    module Sequel::CoreRefinements
  </h1>

  <section class="description">
    
<p>:nocov:</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-26" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">&amp;</span><span
            class="method-args">(ce)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::BooleanExpression</code> created from this hash, matching all of the conditions in this hash and the condition specified by the given argument.</p>

<pre class="ruby">{<span class="ruby-value">a:</span> <span class="ruby-value">1</span>} <span class="ruby-operator">&amp;</span> <span class="ruby-value">:b</span> <span class="ruby-comment"># SQL: ((a = 1) AND b)</span>
{<span class="ruby-value">a:</span> <span class="ruby-keyword">true</span>} <span class="ruby-operator">&amp;</span> <span class="ruby-operator">~</span><span class="ruby-value">:b</span> <span class="ruby-comment"># SQL: ((a IS TRUE) AND NOT b)</span>
</pre>
          
          

          
          <div class="method-source-code" id="26-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">108</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">&amp;</span>(<span class="ruby-identifier">ce</span>)
<span class="line-num">109</span>   <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:AND</span>, <span class="ruby-keyword">self</span>, <span class="ruby-identifier">ce</span>)
<span class="line-num">110</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-2A" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">*</span><span
            class="method-args">(ce=(arg=false;nil))</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="2A-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">216</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">*</span>(<span class="ruby-identifier">ce</span>=(<span class="ruby-identifier">arg</span>=<span class="ruby-keyword">false</span>;<span class="ruby-keyword">nil</span>))
<span class="line-num">217</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
<span class="line-num">218</span>     <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">ColumnAll</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">219</span>   <span class="ruby-keyword">else</span>
<span class="line-num">220</span>     <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">NumericExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:*</span>, <span class="ruby-keyword">self</span>, <span class="ruby-identifier">ce</span>)
<span class="line-num">221</span>   <span class="ruby-keyword">end</span>
<span class="line-num">222</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-case" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">case</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::CaseExpression</code> with this array as the conditions and the given default value and expression.</p>

<pre class="ruby">[[{<span class="ruby-value">a:</span> [<span class="ruby-value">2</span>,<span class="ruby-value">3</span>]}, <span class="ruby-value">1</span>]].<span class="ruby-identifier">case</span>(<span class="ruby-value">0</span>) <span class="ruby-comment"># SQL: CASE WHEN (a IN (2, 3)) THEN 1 ELSE 0 END</span>
[[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, <span class="ruby-value">2</span>]].<span class="ruby-identifier">case</span>(<span class="ruby-value">:d</span>, <span class="ruby-value">:c</span>) <span class="ruby-comment"># SQL: CASE c WHEN a THEN 1 WHEN b THEN 2 ELSE d END</span>
</pre>
          
          

          
          <div class="method-source-code" id="case-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">39</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">case</span>(<span class="ruby-operator">*</span><span class="ruby-identifier ruby-title">args</span>)
<span class="line-num">40</span>   <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">CaseExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="line-num">41</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-hstore" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hstore</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="hstore-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/pg_hstore.rb</span>
<span class="line-num">342</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hstore</span>
<span class="line-num">343</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">HStore</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">344</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-identifier" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">identifier</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns receiver wrapped in an <code>Sequel::SQL::Identifier</code>.</p>

<pre class="ruby"><span class="ruby-value">:ab</span>.<span class="ruby-identifier">identifier</span> <span class="ruby-comment"># SQL: &quot;a&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="identifier-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">230</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">identifier</span>
<span class="line-num">231</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Identifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">232</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-lit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lit</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a string into a <code>Sequel::LiteralString</code>, in order to override string literalization, e.g.:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">where</span>(<span class="ruby-value">abc:</span> <span class="ruby-string">&#39;def&#39;</span>)
<span class="ruby-comment"># &quot;SELECT * FROM items WHERE (abc = &#39;def&#39;)&quot;</span>

<span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">where</span>(<span class="ruby-value">abc:</span> <span class="ruby-string">&#39;def&#39;</span>.<span class="ruby-identifier">lit</span>)
<span class="ruby-comment"># &quot;SELECT * FROM items WHERE (abc = def)&quot;</span>
</pre>

<p>You can also provide arguments, to create a <code>Sequel::SQL::PlaceholderLiteralString</code>:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">count</span>(<span class="ruby-string">&#39;DISTINCT ?&#39;</span>.<span class="ruby-identifier">lit</span>(<span class="ruby-value">:a</span>))}
<span class="ruby-comment"># &quot;SELECT count(DISTINCT a) FROM items&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="lit-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">186</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lit</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="line-num">187</span>   <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">LiteralString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>) <span class="ruby-operator">:</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">PlaceholderLiteralString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">args</span>)
<span class="line-num">188</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pg_array" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pg_array</span><span
            class="method-args">(type=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pg_array-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/pg_array.rb</span>
<span class="line-num">521</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_array</span>(<span class="ruby-identifier">type</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">522</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">type</span>)
<span class="line-num">523</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pg_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pg_json</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pg_json-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json.rb</span>
<span class="line-num">624</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_json</span>
<span class="line-num">625</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">626</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pg_jsonb" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pg_jsonb</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pg_jsonb-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json.rb</span>
<span class="line-num">628</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_jsonb</span>
<span class="line-num">629</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">630</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pg_range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pg_range</span><span
            class="method-args">(db_type=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pg_range-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/pg_range.rb</span>
<span class="line-num">559</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_range</span>(<span class="ruby-identifier">db_type</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">560</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRange</span>.<span class="ruby-identifier">from_range</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">db_type</span>)
<span class="line-num">561</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pg_row" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pg_row</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pg_row-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/pg_row.rb</span>
<span class="line-num">576</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_row</span>
<span class="line-num">577</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRow</span><span class="ruby-operator">::</span><span class="ruby-constant">ArrayRow</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">578</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sql_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sql_expr</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::BooleanExpression</code> created from this array, matching all of the conditions.  Rarely do you need to call this explicitly, as <a href="../Sequel.html"><code>Sequel</code></a> generally assumes that arrays of two element arrays specify this type of condition.  One case where it can be necessary to use this is if you are using the object as a value in a filter hash and want to use the = operator instead of the IN operator (which is used by default for arrays of two element arrays).</p>

<pre class="ruby">[[<span class="ruby-value">:a</span>, <span class="ruby-keyword">true</span>]].<span class="ruby-identifier">sql_expr</span> <span class="ruby-comment"># SQL: (a IS TRUE)</span>
[[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, [<span class="ruby-value">2</span>, <span class="ruby-value">3</span>]]].<span class="ruby-identifier">sql_expr</span> <span class="ruby-comment"># SQL: ((a = 1) AND (b IN (2, 3)))</span>
</pre>
          
          

          
          <div class="method-source-code" id="sql_expr-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">65</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sql_expr</span>
<span class="line-num">66</span>   <span class="ruby-constant">Sequel</span>[<span class="ruby-keyword">self</span>]
<span class="line-num">67</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sql_function" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sql_function</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a <code>Sequel::SQL::Function</code> with this as the function name, and the given arguments.</p>

<pre class="ruby"><span class="ruby-value">:now</span>.<span class="ruby-identifier">sql_function</span> <span class="ruby-comment"># SQL: now()</span>
<span class="ruby-value">:sum</span>.<span class="ruby-identifier">sql_function</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># SQL: sum(a)</span>
<span class="ruby-value">:concat</span>.<span class="ruby-identifier">sql_function</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>) <span class="ruby-comment"># SQL: concat(a, b)</span>
</pre>
          
          

          
          <div class="method-source-code" id="sql_function-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">240</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sql_function</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="line-num">241</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Function</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="line-num">242</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sql_negate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sql_negate</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::BooleanExpression</code> created from this array, matching none of the conditions.</p>

<pre class="ruby">[[<span class="ruby-value">:a</span>, <span class="ruby-keyword">true</span>]].<span class="ruby-identifier">sql_negate</span> <span class="ruby-comment"># SQL: (a IS NOT TRUE)</span>
[[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, [<span class="ruby-value">2</span>, <span class="ruby-value">3</span>]]].<span class="ruby-identifier">sql_negate</span> <span class="ruby-comment"># SQL: ((a != 1) AND (b NOT IN (2, 3)))</span>
</pre>
          
          

          
          <div class="method-source-code" id="sql_negate-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">74</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sql_negate</span>
<span class="line-num">75</span>   <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">negate</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">76</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sql_or" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sql_or</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::BooleanExpression</code> created from this array, matching any of the conditions.</p>

<pre class="ruby">[[<span class="ruby-value">:a</span>, <span class="ruby-keyword">true</span>]].<span class="ruby-identifier">sql_or</span> <span class="ruby-comment"># SQL: (a IS TRUE)</span>
[[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, [<span class="ruby-value">2</span>, <span class="ruby-value">3</span>]]].<span class="ruby-identifier">sql_or</span> <span class="ruby-comment"># SQL: ((a = 1) OR (b IN (2, 3)))</span>
</pre>
          
          

          
          <div class="method-source-code" id="sql_or-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">83</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sql_or</span>
<span class="line-num">84</span>   <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">or</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">85</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sql_string_join" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sql_string_join</span><span
            class="method-args">(joiner=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::StringExpression</code> representing an <a href="SQL.html"><code>SQL</code></a> string made up of the concatenation of this array&#39;s elements.  If an argument is passed it is used in between each element of the array in the <a href="SQL.html"><code>SQL</code></a> concatenation.</p>

<pre class="ruby">[<span class="ruby-value">:a</span>].<span class="ruby-identifier">sql_string_join</span> <span class="ruby-comment"># SQL: a</span>
[<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>].<span class="ruby-identifier">sql_string_join</span> <span class="ruby-comment"># SQL: (a || b)</span>
[<span class="ruby-value">:a</span>, <span class="ruby-string">&#39;b&#39;</span>].<span class="ruby-identifier">sql_string_join</span> <span class="ruby-comment"># SQL: (a || &#39;b&#39;)</span>
[<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">:b</span>].<span class="ruby-identifier">sql_string_join</span>(<span class="ruby-string">&#39; &#39;</span>) <span class="ruby-comment"># SQL: (&#39;a&#39; || &#39; &#39; || b)</span>
</pre>
          
          

          
          <div class="method-source-code" id="sql_string_join-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">96</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sql_string_join</span>(<span class="ruby-identifier">joiner</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">97</span>   <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">join</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">joiner</span>)
<span class="line-num">98</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sql_value_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sql_value_list</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::ValueList</code> created from this array.  Used if this array contains all two element arrays and you want it treated as an <a href="SQL.html"><code>SQL</code></a> value list (IN predicate)  instead of as a conditions specifier (similar to a hash).  This is not necessary if you are using this array as a value in a filter, but may be necessary if you are using it as a value with placeholder SQL:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">where</span>([<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>]<span class="ruby-operator">=&gt;</span>[[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>]]) <span class="ruby-comment"># SQL: ((a, b) IN ((1, 2), (3, 4)))</span>
<span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">where</span>(<span class="ruby-string">&#39;(a, b) IN ?&#39;</span>, [[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>]]) <span class="ruby-comment"># SQL: ((a, b) IN ((1 = 2) AND (3 = 4)))</span>
<span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">where</span>(<span class="ruby-string">&#39;(a, b) IN ?&#39;</span>, [[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>]].<span class="ruby-identifier">sql_value_list</span>) <span class="ruby-comment"># SQL: ((a, b) IN ((1, 2), (3, 4)))</span>
</pre>
          
          

          
          <div class="method-source-code" id="sql_value_list-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">52</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sql_value_list</span>
<span class="line-num">53</span>   <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">ValueList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">54</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_sequel_blob" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_sequel_blob</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a <code>Sequel::SQL::Blob</code> that holds the same data as this string. Blobs provide proper escaping of binary data.</p>
          
          

          
          <div class="method-source-code" id="to_sequel_blob-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">192</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_sequel_blob</span>
<span class="line-num">193</span>   <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Blob</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">194</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-7C" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">|</span><span
            class="method-args">(ce)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::BooleanExpression</code> created from this hash, matching all of the conditions in this hash or the condition specified by the given argument.</p>

<pre class="ruby">{<span class="ruby-value">a:</span> <span class="ruby-value">1</span>} <span class="ruby-operator">|</span> <span class="ruby-value">:b</span> <span class="ruby-comment"># SQL: ((a = 1) OR b)</span>
{<span class="ruby-value">a:</span> <span class="ruby-keyword">true</span>} <span class="ruby-operator">|</span> <span class="ruby-operator">~</span><span class="ruby-value">:b</span> <span class="ruby-comment"># SQL: ((a IS TRUE) OR NOT b)</span>
</pre>
          
          

          
          <div class="method-source-code" id="7C-source">
            <pre>    <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">118</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">|</span>(<span class="ruby-identifier">ce</span>)
<span class="line-num">119</span>   <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:OR</span>, <span class="ruby-keyword">self</span>, <span class="ruby-identifier">ce</span>)
<span class="line-num">120</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-~" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">~</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a <code>Sequel::SQL::BooleanExpression</code> created from this array, not matching all of the conditions.</p>

<pre class="ruby"><span class="ruby-operator">~</span>[[<span class="ruby-value">:a</span>, <span class="ruby-keyword">true</span>]] <span class="ruby-comment"># SQL: (a IS NOT TRUE)</span>
<span class="ruby-operator">~</span>[[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, [<span class="ruby-value">2</span>, <span class="ruby-value">3</span>]]] <span class="ruby-comment"># SQL: ((a != 1) OR (b NOT IN (2, 3)))</span>
</pre>
          
          

          
          <div class="method-source-code" id="~-source">
            <pre>   <span class="ruby-comment"># File lib/sequel/extensions/core_refinements.rb</span>
<span class="line-num">30</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">~</span>
<span class="line-num">31</span>   <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">~</span>(<span class="ruby-keyword">self</span>)
<span class="line-num">32</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

